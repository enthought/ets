<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>EEP 6: Whither Apptools? &mdash; Enthought Tool Suite  documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../_static/enthought.css" type="text/css" >
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" >
    <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" >
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        LINK_SUFFIX: '.html',
        SOURCELINK_SUFFIX: '.txt',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/copybutton.js"></script>
    <script type="text/javascript" src="../_static/js/wrap_on_dot.js"></script>
    <link rel="shortcut icon" href="../_static/img/favicon.png">
    <link rel="index" title="Index" href="../genindex.html" >
    <link rel="search" title="Search" href="../search.html" >
    <link rel="top" title="Enthought Tool Suite  documentation" href="../index.html" > 
  </head>
  <body>
  <div class="container">
    <div class="header">
    </div>
  </div>

    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="../index.html">Enthought Tool Suite  documentation</a></li>
	 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body" role="main">
            
  <div class="section" id="eep-6-whither-apptools">
<h1>EEP 6: Whither Apptools? <a class="footnote-reference brackets" href="#f1" id="id1">1</a><a class="headerlink" href="#eep-6-whither-apptools" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Author</dt>
<dd class="field-odd"><p>Corran Webster</p>
</dd>
<dt class="field-even">Status</dt>
<dd class="field-even"><p>Active</p>
</dd>
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Standards Track</p>
</dd>
<dt class="field-even">Content-Type</dt>
<dd class="field-even"><p>text/x-rst</p>
</dd>
<dt class="field-odd">Created</dt>
<dd class="field-odd"><p>2020-10-01</p>
</dd>
<dt class="field-even">Post-History</dt>
<dd class="field-even"><p>2020-10-01</p>
</dd>
</dl>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Apptools is a collection of packages that provides services for ETS
applications.  This EEP is a discussion about how this package can be
refactored to be more useful.  As part of this refactor, we are proposing
removing a number of sub-packages of apptools and the creation of a new
lower-level package for application services.</p>
</div>
<div class="section" id="motivation">
<h2>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<p>Apptools provides a number of sub-packges to help build ETS applications.
Some of these, like <code class="docutils literal notranslate"><span class="pre">apptools.preferences</span></code> provide core functionality
for applications, while others are not currently used at all.  We are
planning to migrate Apptools to be Python 3 only, and eventually to make
use of new features from Traits and TraitsUI.  We don’t want to do any
migration of code that is not being used.</p>
<p>There is some code in Apptools that provides low-level application
services, such as the code for object persistence, and others, such as the
help subpackage, that are strongly tied to GUI components.  Some, like
<code class="docutils literal notranslate"><span class="pre">apptools.preferences</span></code>, have both aspects: a core application component
and a significant UI component.  And some, like undo, perhaps belong as
a more fundamental part of Pyface or TraitsUI.</p>
<p>Additionally, there are some parts of other ETS packages which may fit
better in an “application support” library: ETSConfig is one, as is the
base Application object and the ResourceManager code from Pyface.  There
has also been discussion that there should perhaps be a place for support
of generic event loops outside of the context of GUIs.</p>
<p>Finally, the interaction of apptools with Envisage is ambiguous: Envisage
depends on some apptools components (such as preferences), but other
components provide Envisage plugins (such as logger and help).  This causes
issues with packaging, distribution and release management.</p>
</div>
<div class="section" id="discussion">
<h2>Discussion<a class="headerlink" href="#discussion" title="Permalink to this headline">¶</a></h2>
<p>This section takes a deeper look at the issues facing Apptools.</p>
<div class="section" id="packages-which-are-used-and-packages-which-are-not">
<h3>Packages Which Are Used and Packages Which are Not<a class="headerlink" href="#packages-which-are-used-and-packages-which-are-not" title="Permalink to this headline">¶</a></h3>
<p>The following apptools packages are key in either other ETS projects or
heavily used in current Enthought internal projects:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">io</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">logger</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lru_cache</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">persistence</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">preferences</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scripting</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">selection</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type_registry</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">undo</span></code></p></li>
</ul>
<p>The following are used in Mayavi, but the use seems to be minor:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">naming</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sweet_pickle</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type_manager</span></code></p></li>
</ul>
<p>In particular, <code class="docutils literal notranslate"><span class="pre">naming</span></code> is optionally imported in the Wx backend to provide
an introspection UI for Python objects; it is not used the Qt, but there is
also no replacement for that functionality.  The <code class="docutils literal notranslate"><span class="pre">naming</span></code> sub-package then
depends in turn on features from <code class="docutils literal notranslate"><span class="pre">sweet_pickle</span></code> and <code class="docutils literal notranslate"><span class="pre">type_manager</span></code>.</p>
<p>The following packages duplicate functionality found elsewhere:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">appscripting</span></code> has the same goals as <code class="docutils literal notranslate"><span class="pre">scripting</span></code> and Canopy’s closed-source internal scripting library</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">io.file</span></code> is essentially a traited version of the Python 3 <code class="docutils literal notranslate"><span class="pre">pathlib</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">io.h5</span></code> has a lot of overlap with Zarr</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">permissions</span></code> has some overlap with an internal Enthought closed source library</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">persistence</span></code> has a versioned pickle which is similar to <code class="docutils literal notranslate"><span class="pre">sweet_pickle</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">persistence</span></code> has a lot of overlap in its intent with Marshmallow, but using Pickle rather than JSON</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">template</span></code> is an attempt to generalize templating code used in an internal application</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type_manager</span></code> has the same goals as <code class="docutils literal notranslate"><span class="pre">traits.adaptation</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type_registry</span></code> code was originally written in QtBinder, and a version still exists there because QtBinder does not want to depend on Apptools.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">undo</span></code> provides similar functionality to the TraitsUI history code.</p></li>
</ul>
<p>The following packages are used in some Enthought internal legacy applications
that we may want to keep functional:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">naming</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sweet_pickle</span></code>, which is also used by <code class="docutils literal notranslate"><span class="pre">naming</span></code> and <code class="docutils literal notranslate"><span class="pre">type_manager</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type_manager</span></code>, which is also used by <code class="docutils literal notranslate"><span class="pre">naming</span></code></p></li>
</ul>
<p>The following packages are not heavily used:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">appscripting</span></code> is used by the old <code class="docutils literal notranslate"><span class="pre">blockcanvas</span></code> library</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">help</span></code> is only used in the <code class="docutils literal notranslate"><span class="pre">logger</span></code> UI</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">permissions</span></code> is not used anywhere I could find</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">template</span></code> is not used anywhere that I could find</p></li>
</ul>
</div>
<div class="section" id="packages-which-are-low-level-and-which-are-gui-packages">
<h3>Packages Which are Low-level and Which are GUI Packages<a class="headerlink" href="#packages-which-are-low-level-and-which-are-gui-packages" title="Permalink to this headline">¶</a></h3>
<p>These packages provide low-level application functionality which may be
of use to CLI or server applications as well as GUI applications, and have
no GUI components:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">io</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lru_cache</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">persistence</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sweet_pickle</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">template</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type_manager</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type_registry</span></code></p></li>
</ul>
<p>These packages are purely GUI-oriented:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">appscripting</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">help</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">permissions</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scripting</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">selection</span></code> (although it does not have any actual GUI code in it)</p></li>
</ul>
<p>These packages have some code which is low-level and some which is GUI
specific.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">logger</span></code> provides useful extensions to the core logging module, but also a QA agent UI</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">naming</span></code> provides a Python implementation of JNDI, but also an explorer UI</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">preferences</span></code> provides a core library for working with preferences files, but also a library for building preferences screens</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">undo</span></code> provides command classes that are useful for any command-driven application, but also UI support</p></li>
</ul>
</div>
<div class="section" id="things-which-might-belong-in-apptools">
<h3>Things Which Might Belong in Apptools<a class="headerlink" href="#things-which-might-belong-in-apptools" title="Permalink to this headline">¶</a></h3>
<p>There are some parts of other libraries which do not fit particularly
well within the general purpose of that library.</p>
<p>The traits ETSConfig library is not heavily used by Traits itself, but
it is core to Pyface, TraitsUI and Enable toolkit discovery.  It also
provides basic application configuration (home directories, company names,
and so forth) that are used by Pyface and Envisage Applications.  It
probably makes sense to move this functionality out of Traits and into a
low-level library alongside some of the parts of apptools.  In doing so it
possibly makes sense to split the toolkit discovery part out from the
application discovery piece.</p>
<p>The base Application object in Pyface is general and does not depend on
any GUI code.  This would comfortably live in a low-level core apptools
library.</p>
<p>The ResourceManager code in Pyface is used for discovery of images, but
is otherwise fairly generic, and might fit well into a low-level apptools
library.</p>
<p>The Workbench system from Pyface, along with its Envisage plugins, would
be better served if it were in a high-level apptools library.  There has
been a general plan to move it for some years now.</p>
<p>The IPython support in Envisage is something of an obstacle to general
development of the plugin framework, so it might comfortably live in a
GUI-level apptools library.</p>
<p>The IPython support has also highlighted a need to be able to support
alternative event loops inside ETS applications, particularly to allow
integration with code that uses <code class="docutils literal notranslate"><span class="pre">asyncio</span></code> and similar <code class="docutils literal notranslate"><span class="pre">async</span></code>-based
Python libraries.  Currently event loop access is provided via Pyface
<code class="docutils literal notranslate"><span class="pre">GUI</span></code> and some other utility routines, but also having hooks in Traits
to allow UI dispatch.</p>
</div>
<div class="section" id="things-which-might-not-belong-in-apptools">
<h3>Things Which Might Not Belong In Apptools<a class="headerlink" href="#things-which-might-not-belong-in-apptools" title="Permalink to this headline">¶</a></h3>
<p>Setting aside parts of apptools that we may not want to support
in the future, there are some pieces of code in apptools that
may work better elsewhere.</p>
<p>The most obvious one is <code class="docutils literal notranslate"><span class="pre">undo</span></code> which is fairly fundamental GUI
behaviour, and so probably belongs in Pyface.  It would then be able
to be used for TraitsUI’s undo/redo system, replacing the
<code class="docutils literal notranslate"><span class="pre">traitsui.history</span></code> code, which has shown itself to be buggy.</p>
<p>Similarly, the preferences UI is fairly fundamental, however it uses
TraitsUI, so it may not be a good candidate to move into Pyface.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">io.h5</span></code> package has a heavy additional dependency on PyTables.
It may be best in its own package; or with <code class="docutils literal notranslate"><span class="pre">PyTables</span></code> carefully
made an optional dependency.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">sweet_pickle</span></code> package has no other dependencies outside of
core Python.  It may be best as a stand-alone library.</p>
</div>
<div class="section" id="things-which-depend-on-envisage-and-which-envisage-depends-on">
<h3>Things Which Depend on Envisage and Which Envisage Depends On<a class="headerlink" href="#things-which-depend-on-envisage-and-which-envisage-depends-on" title="Permalink to this headline">¶</a></h3>
<p>The main Envisage library depends on <code class="docutils literal notranslate"><span class="pre">apptools.preferences</span></code>
and <code class="docutils literal notranslate"><span class="pre">apptools.io.file</span></code>.  The <code class="docutils literal notranslate"><span class="pre">single_project</span></code> plugin uses
<code class="docutils literal notranslate"><span class="pre">sweet_pickle</span></code> and <code class="docutils literal notranslate"><span class="pre">naming</span></code>.  The preferences dependency
includes both the preferences file reading code, but also the
UI components in the <code class="docutils literal notranslate"><span class="pre">envisage.ui</span></code> plugins.</p>
<p>On the reverse side, the <code class="docutils literal notranslate"><span class="pre">help</span></code> and <code class="docutils literal notranslate"><span class="pre">logger</span></code> packages
provide Envisage plugins.  The <code class="docutils literal notranslate"><span class="pre">logger</span></code> plugin also uses
<code class="docutils literal notranslate"><span class="pre">preferences</span></code> for configuration.  Both of the plugins focus
on contributing UI features, and so are likely fine for inclusion
only with GUI code libraries.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">naming</span></code> and <code class="docutils literal notranslate"><span class="pre">logger</span></code> packages also hava an optional
dependency on an Envisage <code class="docutils literal notranslate"><span class="pre">envisage.project.IWorkspace</span></code> service.
This service does not appear to exist in current ETS code.</p>
<p>These interdependencies can largely be resolved if we were to
have the low-level <code class="docutils literal notranslate"><span class="pre">preferences</span></code>, <code class="docutils literal notranslate"><span class="pre">io.file</span></code>, <code class="docutils literal notranslate"><span class="pre">naming</span></code> and
<code class="docutils literal notranslate"><span class="pre">sweet_pickle</span></code> in one library, and the UI-level <code class="docutils literal notranslate"><span class="pre">preferences</span></code>
and <code class="docutils literal notranslate"><span class="pre">logger</span></code> UI code, together with the plugins in a high-level
apptools GUI library.  In particular the preferences GUI code used
by Envisage is mostly integrated with Workbench plugin code, so if
that were moved to apptools along with the rest of Workbench, those
dependencies would resolve themselves.</p>
<p>The dependency diagram for this “Core Services” library might look
something like this:</p>
<div class="graphviz"><img src="../_images/graphviz-ffe5a0bc1c44a96bcc0aa543bcfd06539992a983.png" alt="digraph {
     &quot;Mayavi&quot; -&gt; &quot;Apptools&quot; -&gt; &quot;Envisage&quot; -&gt; &quot;Core Services&quot; -&gt; &quot;Traits&quot;
     &quot;Apptools&quot; -&gt; &quot;TraitsUI&quot; -&gt; &quot;Pyface&quot; -&gt; &quot;Core Services&quot;
}" class="graphviz" /></div>
</div>
<div class="section" id="testing">
<h3>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h3>
<p>Much of the code in question was written before Enthought had a
strong testing culture.  The following sub-packages little or no
testing:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">appscripting</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">help</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">logger</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">permissions</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">template</span></code></p></li>
</ul>
<p>Some other packages use pytest rather than unittest.</p>
<p>This needs to be considered when thinking about refactoring.</p>
</div>
</div>
<div class="section" id="proposal">
<h2>Proposal<a class="headerlink" href="#proposal" title="Permalink to this headline">¶</a></h2>
<p>Resolving these issues will likely take some time, and several
releases of Apptools if we are to prevent problems with backward
compatibility.</p>
<p>This proposal also involves the creation of a new, to-be-named,
ETS library to hold application services.</p>
<div class="section" id="step-1">
<h3>Step 1<a class="headerlink" href="#step-1" title="Permalink to this headline">¶</a></h3>
<p>Remove the <code class="docutils literal notranslate"><span class="pre">appscripting</span></code> and <code class="docutils literal notranslate"><span class="pre">template</span></code> modules.</p>
<p>These are not used by any current code, and so there seems little
point in updating them for Python 3.</p>
</div>
<div class="section" id="step-2">
<h3>Step 2<a class="headerlink" href="#step-2" title="Permalink to this headline">¶</a></h3>
<p>Evaluate the <code class="docutils literal notranslate"><span class="pre">permissions</span></code> submodule to see if it fits Enthought’s
current needs for application permissioning, in particular if it can
integrate well with Enthought’s current closed source identity service.</p>
<p>If it is not fit for purpose, it should be removed.  Otherwise it
should have tests written for it.</p>
</div>
<div class="section" id="step-3">
<h3>Step 3<a class="headerlink" href="#step-3" title="Permalink to this headline">¶</a></h3>
<p>Write at least minimal tests for <code class="docutils literal notranslate"><span class="pre">help</span></code> and <code class="docutils literal notranslate"><span class="pre">logger</span></code>; and check
and improve test coverage of other modules which are to be kept.</p>
<p>These are required before any migration to Python 3 only should be
attempted, so we have some indication of the validity of the code after
migration.  At this point there may be a value judgement to be made
about keeping or removing particular modules within the sub-packages
if they are not particularly useful and the effort of testing is more
than their value.</p>
</div>
<div class="section" id="step-4">
<h3>Step 4<a class="headerlink" href="#step-4" title="Permalink to this headline">¶</a></h3>
<p>Migrate the codebase to support only Python 3.6+, Traits 6.0+, and
TraitsUI 7.0+.</p>
</div>
<div class="section" id="step-5">
<h3>Step 5<a class="headerlink" href="#step-5" title="Permalink to this headline">¶</a></h3>
<p>Deprecate <code class="docutils literal notranslate"><span class="pre">type_manager</span></code> and convert Apptools code that uses it to
use <code class="docutils literal notranslate"><span class="pre">traits.adaptation</span></code>.</p>
<p>Everything that it does is covered by <code class="docutils literal notranslate"><span class="pre">traits.adaptation</span></code>.  We
will keep it around, since it may be used by external code.  Converting
Apptools code such as <code class="docutils literal notranslate"><span class="pre">naming</span></code> to <code class="docutils literal notranslate"><span class="pre">traits.adaptation</span></code> may possibly
break some external code, but fixes should be straightforward.</p>
<p>Similarly look at <code class="docutils literal notranslate"><span class="pre">sweet_pickle</span></code> and, if the decision is to remove it,
then deprecate the sub-package and convert code that uses it.</p>
</div>
<div class="section" id="step-6a-optional">
<h3>Step 6a (Optional)<a class="headerlink" href="#step-6a-optional" title="Permalink to this headline">¶</a></h3>
<p>Copy Undo from Apptools to Pyface.  Deprecate in Apptools after next
Pyface release.</p>
<p>This step can be done at any point from here out, but it would
make some sense to do it before the 5.0.0 release.</p>
</div>
<div class="section" id="step-6b-optional">
<h3>Step 6b (Optional)<a class="headerlink" href="#step-6b-optional" title="Permalink to this headline">¶</a></h3>
<p>Copy Workbench from Pyface and Envisage to Apptools.  Deprecate in
Pyface and Envisage.</p>
<p>This step can be done at any point from here out, but it would
make some sense to do it before the 5.0.0 release.</p>
</div>
<div class="section" id="step-7">
<h3>Step 7<a class="headerlink" href="#step-7" title="Permalink to this headline">¶</a></h3>
<p>Release Apptools 5.0.0.</p>
<p>Ideally this release would include documentation of the packages
which we have long-term interest in keeping.  This provides an
initial release which code that depends on Apptools can use as a
stepping stone as things are further refined.</p>
</div>
<div class="section" id="step-8">
<h3>Step 8<a class="headerlink" href="#step-8" title="Permalink to this headline">¶</a></h3>
<p>Update Apptools to use Traits 6.1+ features.</p>
<p>This should include replacing any TraitHandlers defined in the
library with TraitTypes.</p>
</div>
<div class="section" id="step-9">
<h3>Step 9<a class="headerlink" href="#step-9" title="Permalink to this headline">¶</a></h3>
<p>Split out the core application services into a new package.</p>
<p>This new package can be in the same github repository, at least
initially.  It should, however, be packaged as a different
distribution.  The main Apptools library should import from these
modules in such a way as to not break existing code as much as
possible.  The old import locations should be soft-deprecated.</p>
<p>The only dependencies of code in this package should be on Traits
and (possibly, optionally) PyTables (for file.io.h5).</p>
<p>Packages that should be in the new package are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">io</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lru_cache</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">persistence</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sweet_pickle</span></code> (only if it is being kept)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type_registry</span></code></p></li>
</ul>
<p>plus the non-GUI parts of</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">logger</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">naming</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">preferences</span></code></p></li>
</ul>
</div>
<div class="section" id="step-10-optional">
<h3>Step 10 (Optional)<a class="headerlink" href="#step-10-optional" title="Permalink to this headline">¶</a></h3>
<p>Move other code from ETS packages into this new package.</p>
<p>This might include a base Application object, an ETSConfig
replacement and so on.  These can be added at any point release
from here out, and may be driven more by the release plans of
the packages that they are being moved out of than Apptools.</p>
</div>
<div class="section" id="step-11">
<h3>Step 11<a class="headerlink" href="#step-11" title="Permalink to this headline">¶</a></h3>
<p>Release the new package.</p>
</div>
<div class="section" id="step-12">
<h3>Step 12<a class="headerlink" href="#step-12" title="Permalink to this headline">¶</a></h3>
<p>Release Apptools 5.1.0 with the dependencies on the new package.</p>
</div>
<div class="section" id="step-13">
<h3>Step 13<a class="headerlink" href="#step-13" title="Permalink to this headline">¶</a></h3>
<p>Update Envisage and any other libraries that use Apptools to import
and use the new package where appropriate, and release.</p>
</div>
<div class="section" id="step-14">
<h3>Step 14<a class="headerlink" href="#step-14" title="Permalink to this headline">¶</a></h3>
<p>Once all ETS dependencies have been fixed to use the new package,
hard-deprecate the old API in Apptools.</p>
</div>
<div class="section" id="step-15">
<h3>Step 15<a class="headerlink" href="#step-15" title="Permalink to this headline">¶</a></h3>
<p>Before releasing Apptools 6.0.0, remove all deprecated code.</p>
<p>This may be a long way off.</p>
</div>
</div>
<div class="section" id="unknowns">
<h2>Unknowns<a class="headerlink" href="#unknowns" title="Permalink to this headline">¶</a></h2>
<p>We are proposing a new ETS package between Traits and Pyface/Envisage.
It is not clear what it should be called.</p>
</div>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<dl class="footnote brackets">
<dt class="label" id="f1"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p><a class="reference external" href="https://en.wikipedia.org/wiki/List_of_Monty_Python%27s_Flying_Circus_episodes">Whither Canada?</a></p>
</dd>
</dl>
</div>
</div>


          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/img/e-logo.png" alt="Logo">
            </a></p>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">EEP 6: Whither Apptools? </a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#discussion">Discussion</a><ul>
<li><a class="reference internal" href="#packages-which-are-used-and-packages-which-are-not">Packages Which Are Used and Packages Which are Not</a></li>
<li><a class="reference internal" href="#packages-which-are-low-level-and-which-are-gui-packages">Packages Which are Low-level and Which are GUI Packages</a></li>
<li><a class="reference internal" href="#things-which-might-belong-in-apptools">Things Which Might Belong in Apptools</a></li>
<li><a class="reference internal" href="#things-which-might-not-belong-in-apptools">Things Which Might Not Belong In Apptools</a></li>
<li><a class="reference internal" href="#things-which-depend-on-envisage-and-which-envisage-depends-on">Things Which Depend on Envisage and Which Envisage Depends On</a></li>
<li><a class="reference internal" href="#testing">Testing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#proposal">Proposal</a><ul>
<li><a class="reference internal" href="#step-1">Step 1</a></li>
<li><a class="reference internal" href="#step-2">Step 2</a></li>
<li><a class="reference internal" href="#step-3">Step 3</a></li>
<li><a class="reference internal" href="#step-4">Step 4</a></li>
<li><a class="reference internal" href="#step-5">Step 5</a></li>
<li><a class="reference internal" href="#step-6a-optional">Step 6a (Optional)</a></li>
<li><a class="reference internal" href="#step-6b-optional">Step 6b (Optional)</a></li>
<li><a class="reference internal" href="#step-7">Step 7</a></li>
<li><a class="reference internal" href="#step-8">Step 8</a></li>
<li><a class="reference internal" href="#step-9">Step 9</a></li>
<li><a class="reference internal" href="#step-10-optional">Step 10 (Optional)</a></li>
<li><a class="reference internal" href="#step-11">Step 11</a></li>
<li><a class="reference internal" href="#step-12">Step 12</a></li>
<li><a class="reference internal" href="#step-13">Step 13</a></li>
<li><a class="reference internal" href="#step-14">Step 14</a></li>
<li><a class="reference internal" href="#step-15">Step 15</a></li>
</ul>
</li>
<li><a class="reference internal" href="#unknowns">Unknowns</a></li>
<li><a class="reference internal" href="#notes">Notes</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <div>
    <a href="../_sources/eeps/eep-6.rst.txt"
       rel="nofollow">Show Source</a>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2019, Enthought Developers
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.5.4.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>